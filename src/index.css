@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Material Design 3 Design System
 * 
 * This file implements Material Design 3 color tokens and design system
 * Based on Material Design 3 specifications
 * All colors use the MD3 semantic naming and token structure
 */

@layer base {
  :root {
    /* Material Design 3 - Primary Colors */
    --md-primary: 259 49% 52%;           /* #6750A4 */
    --md-on-primary: 0 0% 100%;          /* #FFFFFF */
    --md-primary-container: 268 100% 87%; /* #EADDFF */
    --md-on-primary-container: 259 100% 18%; /* #21005D */
    
    /* Secondary Colors */
    --md-secondary: 248 15% 40%;         /* #625B71 */
    --md-on-secondary: 0 0% 100%;        /* #FFFFFF */
    --md-secondary-container: 253 49% 87%; /* #E8DEF8 */
    --md-on-secondary-container: 247 29% 15%; /* #1D192B */
    
    /* Error Colors */
    --md-error: 0 73% 41%;               /* #BA1A1A */
    --md-on-error: 0 0% 100%;            /* #FFFFFF */
    --md-error-container: 10 100% 92%;   /* #FFDAD6 */
    --md-on-error-container: 0 100% 13%; /* #410002 */
    
    /* Surface Colors */
    --md-surface: 315 43% 99%;           /* #FFFBFE */
    --md-on-surface: 246 14% 11%;        /* #1C1B1F */
    --md-surface-variant: 261 13% 90%;   /* #E7E0EC */
    --md-on-surface-variant: 250 6% 29%; /* #49454F */
    --md-outline: 246 7% 49%;            /* #79747E */
    --md-outline-variant: 251 10% 81%;   /* #CAC4D0 */
    
    /* Background */
    --md-background: 315 43% 99%;        /* #FFFBFE */
    --md-on-background: 246 14% 11%;     /* #1C1B1F */
    
    /* Tailwind/shadcn compatibility mappings */
    --background: var(--md-background);
    --foreground: var(--md-on-background);
    --card: var(--md-surface);
    --card-foreground: var(--md-on-surface);
    --popover: var(--md-surface);
    --popover-foreground: var(--md-on-surface);
    --primary: var(--md-primary);
    --primary-foreground: var(--md-on-primary);
    --secondary: var(--md-secondary-container);
    --secondary-foreground: var(--md-on-secondary-container);
    --muted: var(--md-surface-variant);
    --muted-foreground: var(--md-on-surface-variant);
    --accent: var(--md-primary-container);
    --accent-foreground: var(--md-on-primary-container);
    --destructive: var(--md-error);
    --destructive-foreground: var(--md-on-error);
    --border: var(--md-outline-variant);
    --input: var(--md-outline-variant);
    --ring: var(--md-primary);

    /* Retrospective Semantic Colors using MD3 tokens */
    --retro-positive: var(--md-primary);           /* Primary for positive actions */
    --retro-neutral: var(--md-secondary);          /* Secondary for neutral actions */
    --retro-negative: var(--md-error);             /* Error for negative actions */
    --retro-highlight: var(--md-primary-container); /* Primary container for highlights */
    --retro-card-bg: var(--md-surface);           /* Surface for card backgrounds */
    
    /* Legacy Retro Colors (mapped to MD3 tokens) */
    --retro-green: var(--md-primary);
    --retro-yellow: var(--md-secondary);
    --retro-red: var(--md-error);
    --retro-blue: var(--md-primary);
    --retro-purple: var(--md-secondary);
    --retro-orange: var(--md-primary-container);

    /* Material Design spacing (8dp grid) */
    --md-spacing-xs: 4px;
    --md-spacing-sm: 8px;
    --md-spacing-md: 16px;
    --md-spacing-lg: 24px;
    --md-spacing-xl: 32px;
    --md-spacing-xxl: 48px;
    
    /* Material Design border radius */
    --md-radius-xs: 4px;
    --md-radius-sm: 8px;
    --md-radius-md: 12px;
    --md-radius-lg: 16px;
    --md-radius-xl: 28px;
    --md-radius-full: 9999px;
    
    /* Update default radius to use MD3 values */
    --radius: var(--md-radius-md);
    
    /* Material Design spacing tokens */
    --md-spacing-xs: 4px;
    --md-spacing-sm: 8px;
    --md-spacing-md: 16px;
    --md-spacing-lg: 24px;
    --md-spacing-xl: 32px;
    --md-spacing-xxl: 48px;
    
    /* Material Design border radius tokens */
    --md-radius-xs: 4px;
    --md-radius-sm: 8px;
    --md-radius-md: 12px;
    --md-radius-lg: 16px;
    --md-radius-xl: 28px;
    --md-radius-full: 9999px;
    
    /* Material Design elevation shadows */
    --md-elevation-1: 0 1px 2px rgba(0,0,0,0.3), 0 1px 3px 1px rgba(0,0,0,0.15);
    --md-elevation-2: 0 1px 2px rgba(0,0,0,0.3), 0 2px 6px 2px rgba(0,0,0,0.15);
    --md-elevation-3: 0 4px 8px 3px rgba(0,0,0,0.15), 0 1px 3px rgba(0,0,0,0.3);
    
    /* Material Design transitions */
    --md-transition-fast: 200ms cubic-bezier(0.2, 0, 0, 1);
    --md-transition-medium: 300ms cubic-bezier(0.2, 0, 0, 1);
    --md-transition-slow: 400ms cubic-bezier(0.2, 0, 0, 1);

    /* Sidebar Colors using MD3 tokens */
    --sidebar-background: var(--md-surface);
    --sidebar-foreground: var(--md-on-surface);
    --sidebar-primary: var(--md-primary);
    --sidebar-primary-foreground: var(--md-on-primary);
    --sidebar-accent: var(--md-surface-variant);
    --sidebar-accent-foreground: var(--md-on-surface-variant);
    --sidebar-border: var(--md-outline-variant);
    --sidebar-ring: var(--md-primary);
  }

  /* Material Design 3 Dark Theme */
  [data-theme="dark"] {
    /* Primary Colors */
    --md-primary: 258 100% 87%;          /* #D0BCFF */
    --md-on-primary: 259 60% 29%;        /* #381E72 */
    --md-primary-container: 259 37% 38%; /* #4F378B */
    --md-on-primary-container: 268 100% 87%; /* #EADDFF */
    
    /* Secondary Colors */
    --md-secondary: 253 19% 81%;         /* #CCC2DC */
    --md-on-secondary: 247 21% 22%;      /* #332D41 */
    --md-secondary-container: 248 11% 31%; /* #4A4458 */
    --md-on-secondary-container: 253 49% 87%; /* #E8DEF8 */
    
    /* Surface Colors */
    --md-surface: 246 14% 11%;           /* #1C1B1F */
    --md-on-surface: 247 12% 90%;        /* #E6E1E5 */
    --md-surface-variant: 250 6% 29%;    /* #49454F */
    --md-on-surface-variant: 251 10% 81%; /* #CAC4D0 */
    --md-outline: 248 5% 60%;            /* #938F99 */
    --md-outline-variant: 250 6% 29%;    /* #49454F */
    
    /* Background */
    --md-background: 246 14% 11%;        /* #1C1B1F */
    --md-on-background: 247 12% 90%;     /* #E6E1E5 */
    
    /* Update compatibility mappings for dark theme */
    --background: var(--md-background);
    --foreground: var(--md-on-background);
    --card: var(--md-surface);
    --card-foreground: var(--md-on-surface);
    --popover: var(--md-surface);
    --popover-foreground: var(--md-on-surface);
    --primary: var(--md-primary);
    --primary-foreground: var(--md-on-primary);
    --secondary: var(--md-secondary-container);
    --secondary-foreground: var(--md-on-secondary-container);
    --muted: var(--md-surface-variant);
    --muted-foreground: var(--md-on-surface-variant);
    --accent: var(--md-primary-container);
    --accent-foreground: var(--md-on-primary-container);
    --destructive: var(--md-error);
    --destructive-foreground: var(--md-on-error);
    --border: var(--md-outline-variant);
    --input: var(--md-outline-variant);
    --ring: var(--md-primary);
    
    /* Update sidebar for dark theme */
    --sidebar-background: var(--md-surface);
    --sidebar-foreground: var(--md-on-surface);
    --sidebar-primary: var(--md-primary);
    --sidebar-primary-foreground: var(--md-on-primary);
    --sidebar-accent: var(--md-surface-variant);
    --sidebar-accent-foreground: var(--md-on-surface-variant);
    --sidebar-border: var(--md-outline-variant);
    --sidebar-ring: var(--md-primary);
  }
}

@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    @apply border-border;
  }

  body {
    font-family: 'Roboto', system-ui, -apple-system, sans-serif;
    font-size: 16px;
    line-height: 1.5;
    font-weight: 400;
    @apply bg-background text-foreground;
  }
  
  /* Material Design 3 Typography Scale */
  .md-headline-large {
    font: 400 32px/40px 'Roboto', sans-serif;
  }
  
  .md-headline-medium {
    font: 400 28px/36px 'Roboto', sans-serif;
  }
  
  .md-headline-small {
    font: 400 24px/32px 'Roboto', sans-serif;
  }
  
  .md-title-large {
    font: 400 22px/28px 'Roboto', sans-serif;
  }
  
  .md-title-medium {
    font: 500 16px/24px 'Roboto', sans-serif;
  }
  
  .md-title-small {
    font: 500 14px/20px 'Roboto', sans-serif;
  }
  
  .md-body-large {
    font: 400 16px/24px 'Roboto', sans-serif;
  }
  
  .md-body-medium {
    font: 400 14px/20px 'Roboto', sans-serif;
  }
  
  .md-body-small {
    font: 400 12px/16px 'Roboto', sans-serif;
  }
  
  .md-label-large {
    font: 500 14px/20px 'Roboto', sans-serif;
  }
  
  .md-label-medium {
    font: 500 12px/16px 'Roboto', sans-serif;
  }
  
  .md-label-small {
    font: 500 11px/16px 'Roboto', sans-serif;
  }

  /* Material Design 3 Component Base Styles */
  .md-button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    height: 40px;
    padding: 0 24px;
    border: none;
    border-radius: var(--md-radius-full);
    font: var(--md-label-large);
    cursor: pointer;
    transition: var(--md-transition-fast);
    text-transform: none;
    text-decoration: none;
    overflow: hidden;
  }

  .md-button.filled {
    background-color: hsl(var(--md-primary));
    color: hsl(var(--md-on-primary));
  }

  .md-button.filled:hover {
    box-shadow: var(--md-elevation-1);
    opacity: 0.92;
  }

  .md-button.outlined {
    background-color: transparent;
    color: hsl(var(--md-primary));
    border: 1px solid hsl(var(--md-outline));
  }

  .md-button.outlined:hover {
    background-color: hsl(var(--md-primary) / 0.08);
  }

  .md-button.text {
    background-color: transparent;
    color: hsl(var(--md-primary));
    padding: 0 12px;
  }

  .md-button.text:hover {
    background-color: hsl(var(--md-primary) / 0.08);
  }

  .md-button.elevated {
    background-color: hsl(var(--md-surface));
    color: hsl(var(--md-primary));
    box-shadow: var(--md-elevation-1);
  }

  .md-button.elevated:hover {
    box-shadow: var(--md-elevation-2);
  }

  .md-button.tonal {
    background-color: hsl(var(--md-secondary-container));
    color: hsl(var(--md-on-secondary-container));
  }

  .md-button.tonal:hover {
    box-shadow: var(--md-elevation-1);
    opacity: 0.92;
  }

  /* Material Design 3 Card */
  .md-card {
    border-radius: var(--md-radius-md);
    background-color: hsl(var(--md-surface));
    overflow: hidden;
    transition: var(--md-transition-fast);
  }

  .md-card.elevated {
    box-shadow: var(--md-elevation-1);
  }

  .md-card.elevated:hover {
    box-shadow: var(--md-elevation-2);
  }

  .md-card.outlined {
    border: 1px solid hsl(var(--md-outline-variant));
  }
}